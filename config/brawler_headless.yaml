# Brawler HEADLESS Configuration
# Starts small, discovers the rest.

assets:
  # The Seed (Starting with WIF as requested - softer market than BTC)
  WIF:
    symbol: WIF
    cex_symbol: wifusdt
    base_spread: 0.005           # Wider spread for meme
    volatility_lookback: 60
    risk_aversion: 2.0
    basis_alpha: 0.05
    max_inventory: 1000.0        # Cap inventory ~ $3k (at $3 price)
    inventory_aversion: 0.1
    order_size: 0.0              # Handled by vol_sizing
    vol_sizing_risk_dollars: 20.0 # Small start
    max_volatility: 0.15         # Allow higher vol
    max_basis_deviation: 10.0
    min_quote_interval_ms: 1000  # 1s safety interval
    quote_reprice_tolerance_ticks: 20.0 # Market-driven: only quote on ~0.5% moves
    reduce_only_ratio: 0.9
    
    # NOTE: tick_size must be accurate for ordering to work.
    # WIF tick size on HL is usually 0.001 or similar. 
    # Provided configs used 0.001 previously.
    tick_size: 0.001

risk:
  tick_interval_ms: 1000
  resume_backoff_seconds: 5
  cex_queue_maxsize: 2000
  local_queue_maxsize: 2000
  fill_queue_maxsize: 2000
  min_cancel_interval_ms: 1000    
  side_jitter_ms: 25             

kill_switch:
  max_feed_lag_seconds: 5
  max_disconnection_seconds: 30

binance_ws_url: "wss://fstream.binance.com"
hyperliquid_ws_url: "wss://api.hyperliquid.xyz/ws"
hyperliquid_rest_url: "https://api.hyperliquid.xyz"

state_snapshot_path: "logs/brawler_headless_state.json"

hyperliquid_api_key: "${HYPERLIQUID_API_KEY}"
hyperliquid_api_secret: "${HYPERLIQUID_API_SECRET}"
hyperliquid_main_wallet: "${HYPERLIQUID_BRAWLER_WALLET:-${HYPERLIQUID_MAIN_WALLET}}"

portfolio:
  max_gross_inventory: 2000.0   # $2k max exposure totally to start
  halt_ratio: 1.0
  resume_ratio: 0.8
  reduce_only_ratio: 0.9
  taper_start_ratio: 0.6
  min_order_size_ratio: 0.2

candidate_screening:
  min_samples: 2000
  score_min: 0.0

discovery:
  enabled: true
  interval_seconds: 60 # Check every minute for testing/demo purposes, normally 3600
  min_volume_ratio: 0.2
  min_spread_bps: 4.0
