# Brawler configuration for SOL/USDT single-pair test
# Minimal risk parameters for initial verification.

assets:
  SOL:
    symbol: SOL
    cex_symbol: solusdt
    base_spread: 0.002           # 20 bps base spread (conservative)
    volatility_lookback: 60      # samples (~30s @ 500ms tick)
    risk_aversion: 5.0           # aggressively widen with vol
    basis_alpha: 0.05            # slower basis tracking
    max_inventory: 1.0           # max 1.0 SOL inventory
    inventory_aversion: 0.5      # stronger skew for small inventory
    order_size: 0.2              # 0.2 SOL order size (~$26, >$10 min)
    max_volatility: 0.02         # suspend if sigma > 2%
    max_basis_deviation: 0.01    # suspend if basis > 1% deviation
    min_quote_interval_ms: 500   # standard throttling
    reduce_only_ratio: 0.9       # strict reduce-only
    tick_size: 0.01              # Hyperliquid SOL tick size
    quote_reprice_tolerance_ticks: 2.0

risk:
  tick_interval_ms: 500
  resume_backoff_seconds: 5
  cex_queue_maxsize: 2000
  local_queue_maxsize: 2000
  fill_queue_maxsize: 1000

kill_switch:
  max_feed_lag_seconds: 2
  max_disconnection_seconds: 10

# Default endpoints (can be overridden by env vars if needed)
binance_ws_url: "wss://fstream.binance.com"
hyperliquid_ws_url: "wss://api.hyperliquid.xyz/ws"
hyperliquid_rest_url: "https://api.hyperliquid.xyz"

# State snapshotting (optional, good for debugging)
state_snapshot_path: "logs/brawler_sol_state.json"

# Credentials from environment
hyperliquid_api_key: "${HYPERLIQUID_API_KEY}"
hyperliquid_api_secret: "${HYPERLIQUID_API_SECRET}"
hyperliquid_main_wallet: "${HYPERLIQUID_BRAWLER_WALLET:-${HYPERLIQUID_MAIN_WALLET}}"

portfolio:
  max_gross_inventory: 2.0   # Global cap just above single asset max
  halt_ratio: 1.0
  resume_ratio: 0.8
  reduce_only_ratio: 0.9
  taper_start_ratio: 0.5
  min_order_size_ratio: 0.2

candidate_screening:
  min_samples: 2000
  score_min: 0.0
